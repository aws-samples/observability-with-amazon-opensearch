{"version":3,"sources":["../../../server/send-payload/index.ts"],"names":["setRevalidateHeaders","sendRenderResult","sendEtagResponse","req","res","result","type","generateEtags","poweredByHeader","options","isResSent","setHeader","payload","isDynamic","toUnchunkedString","etag","generateETag","undefined","getHeader","Buffer","byteLength","method","end","pipe","fresh","headers","statusCode"],"mappings":"AAAA;;;;+BAaSA,sBAAoB;;;eAApBA,kBAAoB,qBAAA;;;QAEPC,gBAAgB,GAAhBA,gBAAgB;QA0DtBC,gBAAgB,GAAhBA,gBAAgB;AAvEN,IAAA,MAAwB,WAAxB,wBAAwB,CAAA;AACrB,IAAA,KAAa,WAAb,aAAa,CAAA;AACxB,IAAA,MAA0B,kCAA1B,0BAA0B,EAAA;AAEP,IAAA,kBAAsB,WAAtB,sBAAsB,CAAA;;;;;;AASpD,eAAeD,gBAAgB,CAAC,EACrCE,GAAG,CAAA,EACHC,GAAG,CAAA,EACHC,MAAM,CAAA,EACNC,IAAI,CAAA,EACJC,aAAa,CAAA,EACbC,eAAe,CAAA,EACfC,OAAO,CAAA,EASR,EAAiB;IAChB,IAAIC,CAAAA,GAAAA,MAAS,AAAK,CAAA,UAAL,CAACN,GAAG,CAAC,EAAE;QAClB,OAAM;KACP;IAED,IAAII,eAAe,IAAIF,IAAI,KAAK,MAAM,EAAE;QACtCF,GAAG,CAACO,SAAS,CAAC,cAAc,EAAE,SAAS,CAAC;KACzC;IAED,MAAMC,OAAO,GAAGP,MAAM,CAACQ,SAAS,EAAE,GAAG,IAAI,GAAG,MAAMR,MAAM,CAACS,iBAAiB,EAAE;IAE5E,IAAIF,OAAO,EAAE;QACX,MAAMG,IAAI,GAAGR,aAAa,GAAGS,CAAAA,GAAAA,KAAY,AAAS,CAAA,aAAT,CAACJ,OAAO,CAAC,GAAGK,SAAS;QAC9D,IAAIf,gBAAgB,CAACC,GAAG,EAAEC,GAAG,EAAEW,IAAI,CAAC,EAAE;YACpC,OAAM;SACP;KACF;IAED,IAAI,CAACX,GAAG,CAACc,SAAS,CAAC,cAAc,CAAC,EAAE;QAClCd,GAAG,CAACO,SAAS,CACX,cAAc,EACdL,IAAI,KAAK,MAAM,GAAG,kBAAkB,GAAG,0BAA0B,CAClE;KACF;IAED,IAAIM,OAAO,EAAE;QACXR,GAAG,CAACO,SAAS,CAAC,gBAAgB,EAAEQ,MAAM,CAACC,UAAU,CAACR,OAAO,CAAC,CAAC;KAC5D;IAED,IAAIH,OAAO,IAAI,IAAI,EAAE;QACnBT,CAAAA,GAAAA,kBAAoB,AAAc,CAAA,qBAAd,CAACI,GAAG,EAAEK,OAAO,CAAC;KACnC;IAED,IAAIN,GAAG,CAACkB,MAAM,KAAK,MAAM,EAAE;QACzBjB,GAAG,CAACkB,GAAG,CAAC,IAAI,CAAC;KACd,MAAM,IAAIV,OAAO,EAAE;QAClBR,GAAG,CAACkB,GAAG,CAACV,OAAO,CAAC;KACjB,MAAM;QACL,MAAMP,MAAM,CAACkB,IAAI,CAACnB,GAAG,CAAC;KACvB;CACF;AAEM,SAASF,gBAAgB,CAC9BC,GAAoB,EACpBC,GAAmB,EACnBW,IAAwB,EACf;IACT,IAAIA,IAAI,EAAE;QACR;;;;;OAKG,CACHX,GAAG,CAACO,SAAS,CAAC,MAAM,EAAEI,IAAI,CAAC;KAC5B;IAED,IAAIS,CAAAA,GAAAA,MAAK,AAAuB,CAAA,QAAvB,CAACrB,GAAG,CAACsB,OAAO,EAAE;QAAEV,IAAI;KAAE,CAAC,EAAE;QAChCX,GAAG,CAACsB,UAAU,GAAG,GAAG;QACpBtB,GAAG,CAACkB,GAAG,EAAE;QACT,OAAO,IAAI,CAAA;KACZ;IAED,OAAO,KAAK,CAAA;CACb"}