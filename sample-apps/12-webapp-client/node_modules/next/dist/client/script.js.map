{"version":3,"sources":["../../client/script.tsx"],"names":["handleClientScriptLoad","initScriptLoader","ScriptCache","Map","LoadCache","Set","ignoreProps","loadScript","props","src","id","onLoad","dangerouslySetInnerHTML","children","strategy","onError","cacheKey","has","add","get","then","el","document","createElement","loadPromise","Promise","resolve","reject","addEventListener","e","call","catch","set","innerHTML","__html","textContent","Array","isArray","join","k","value","Object","entries","undefined","includes","attr","DOMAttributeNames","toLowerCase","setAttribute","body","appendChild","window","requestIdleCallback","loadLazyScript","readyState","addBeforeInteractiveToCache","scripts","querySelectorAll","forEach","script","getAttribute","scriptLoaderItems","Script","restProps","updateScripts","getIsSsr","useContext","HeadManagerContext","useEffect","concat"],"mappings":"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"}