{"version":3,"sources":["../../../../client/dev/error-overlay/websocket.ts"],"names":["addMessageListener","sendMessage","connectHMR","source","eventCallbacks","lastActivity","Date","now","getSocketProtocol","assetPrefix","protocol","location","URL","_","cb","push","data","readyState","OPEN","send","options","timeout","init","timer","setInterval","handleDisconnect","close","hostname","port","replace","url","startsWith","split","window","WebSocket","path","onopen","handleOnline","onerror","onmessage","handleMessage","log","console","event","forEach","clearInterval","setTimeout"],"mappings":"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"}