{"version":3,"sources":["../../client/use-intersection.tsx"],"names":["useIntersection","hasIntersectionObserver","IntersectionObserver","rootRef","rootMargin","disabled","isDisabled","unobserve","useRef","visible","setVisible","useState","element","setElement","useEffect","current","undefined","tagName","observe","isVisible","root","idleCallback","requestIdleCallback","cancelIdleCallback","resetVisible","useCallback","callback","options","id","observer","elements","createObserver","set","delete","size","disconnect","observers","index","idList","findIndex","obj","margin","splice","Map","existing","find","instance","get","entries","forEach","entry","target","isIntersecting","intersectionRatio","push"],"mappings":"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"}