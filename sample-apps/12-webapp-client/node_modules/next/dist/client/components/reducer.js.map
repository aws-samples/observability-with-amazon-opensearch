{"version":3,"sources":["../../../client/components/reducer.ts"],"names":["reducer","fillCacheWithNewSubTreeData","newCache","existingCache","flightDataPath","isLastEntry","length","parallelRouteKey","segment","segmentForCache","Array","isArray","existingChildSegmentMap","parallelRoutes","get","childSegmentMap","Map","set","existingChildCacheNode","childCacheNode","data","subTreeData","slice","fillCacheWithDataProperty","segments","fetchResponse","bailOptimistic","canOptimisticallyRender","flightRouterState","isLastSegment","existingSegment","existingParallelRoutes","loadingMarker","segmentMatches","matchSegment","hasLoading","children","createOptimisticTree","_isFirstSegment","parentRefetch","_href","shouldRefetchThisLevel","childTree","childItem","result","walkTreeWithFlightDataPath","flightSegmentPath","treePatch","tree","currentSegment","Error","lastSegment","state","action","type","url","payload","href","pathname","search","hash","canonicalUrl","pushRef","focusRef","cache","cacheType","navigateType","mutable","pendingPush","split","push","optimisticTree","mpaNavigation","focus","patchedTree","JSON","stringify","previousTree","isOptimistic","res","fetchServerResponse","flightData","readRoot","treePath","newTree","console","log"],"mappings":"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"}