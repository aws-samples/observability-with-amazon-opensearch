{"version":3,"sources":["../../../client/components/layout-router.client.tsx"],"names":["OuterLayoutRouter","InnerLayoutRouter","parallelRouterKey","segmentPath","childProp","loading","rootLayoutIncluded","childNodes","tree","url","useContext","AppTreeContext","childNodesForParallelRouter","get","set","Map","treeSegment","childPropSegment","Array","isArray","segment","currentChildSegment","preservedSegments","map","preservedSegment","LoadingBoundary","key","path","isActive","infinitePromise","equalArray","a","b","length","every","val","i","matchSegment","pathMatches","flightDataPath","layoutSegmentPath","pathToLayout","slice","createInfinitePromise","Promise","topOfElementInViewport","element","rect","getBoundingClientRect","top","changeByServerResponse","fullTree","focusRef","FullAppTreeContext","focusAndScrollRef","useRef","useEffect","focus","current","scrollIntoView","childNode","data","subTreeData","parallelRoutes","walkAddRefetch","segmentPathToWalk","treeToRecreate","parallelRouteKey","isLast","hasOwnProperty","subTree","undefined","refetchTree","fetchServerResponse","URL","location","origin","Error","flightData","readRoot","window","href","fastPath","setTimeout","React","startTransition","subtree","Provider","value","div","ref","children","Suspense","fallback"],"mappings":"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"}