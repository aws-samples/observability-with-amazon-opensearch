{"version":3,"sources":["../../../lib/eslint/runLintCheck.ts"],"names":["runLintCheck","CommentJson","Log","VALID_SEVERITY","isValidSeverity","severity","includes","requiredPackages","file","pkg","exportsRestrict","cliPrompt","console","log","chalk","bold","cyan","cliSelect","Promise","resolve","require","default","value","values","ESLINT_PROMPT_VALUES","valueRenderer","title","recommended","selected","name","underline","yellow","unselected","config","lint","baseDir","lintDirs","eslintrcFile","pkgJsonPath","lintDuringBuild","eslintOptions","reportErrorsOnly","maxWarnings","formatter","mod","ESLint","deps","hasNecessaryDependencies","packageManager","getPkgManager","missing","some","dep","error","resolved","get","eslintVersion","version","CLIEngine","semver","lt","red","options","useEslintrc","baseConfig","errorOnUnmatchedPattern","extensions","cache","eslint","nextEslintPluginIsEnabled","nextRulesEnabled","Map","pagesDirRules","configFile","completeConfig","calculateConfigForFile","plugins","Object","entries","rules","startsWith","length","set","pagesDir","findPagesDir","pages","updatedPagesDir","rule","replace","warn","lintStart","process","hrtime","results","lintFiles","selectedFormatter","fix","outputFixes","getErrorResults","loadFormatter","formattedResult","formatResults","format","lintEnd","totalWarnings","reduce","sum","warningCount","output","isError","eventInfo","durationInSeconds","lintedFilesCount","lintFix","nextEslintPluginVersion","has","path","join","dirname","nextEslintPluginErrorsCount","totalNextPluginErrorCount","nextEslintPluginWarningsCount","totalNextPluginWarningCount","fromEntries","err","message","getProperError","strict","findUp","cwd","packageJsonConfig","pkgJsonContent","fs","readFile","encoding","parse","hasEslintConfiguration","exists","selectedConfig","find","opt","installDependencies","existsSync","writeDefaultConfig","ready"],"mappings":"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"}