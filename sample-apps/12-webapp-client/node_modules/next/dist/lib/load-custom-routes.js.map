{"version":3,"sources":["../../lib/load-custom-routes.ts"],"names":["loadCustomRoutes","getRedirectStatus","normalizeRouteRegex","modifyRouteRegex","config","headers","rewrites","redirects","Promise","all","loadHeaders","loadRewrites","loadRedirects","totalRewrites","beforeFiles","length","afterFiles","fallback","totalRoutes","console","warn","chalk","bold","yellow","trailingSlash","unshift","source","destination","permanent","locale","i18n","undefined","internal","basePath","allowedStatusCodes","Set","allowedHasTypes","namedGroupsRegex","route","statusCode","PERMANENT_REDIRECT_STATUS","TEMPORARY_REDIRECT_STATUS","regex","replace","restrictedPaths","map","path","join","checkRedirect","invalidParts","hadInvalidStatus","has","push","checkHeader","Array","isArray","header","key","value","checkCustomRoutes","routes","type","error","process","exit","numInvalidRoutes","hadInvalidHas","allowedKeys","add","JSON","stringify","startsWith","keys","Object","invalidKeys","filter","invalidHasItems","hasItem","invalidHasParts","itemStr","_route","match","result","sourceTokens","tokens","regexStr","tryToParsePath","hasSegments","matchAll","unnamedInDest","token","name","unnamedIndex","RegExp","size","destTokens","destRegexStr","destinationParseFailed","handleUrl","sourceSegments","item","Boolean","invalidDestSegments","hasInvalidKeys","hasInvalidParts","processRoutes","_routes","newRoutes","defaultLocales","domains","defaultLocale","base","http","domain","r","srcBasePath","isExternal","destBasePath","forEach","locales","escapeStringRegexp","_rewrites","every"],"mappings":"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"}