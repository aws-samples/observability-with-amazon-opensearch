{"version":3,"sources":["../../../../../shared/lib/router/utils/prepare-destination.ts"],"names":["matchHas","compileNonPath","prepareDestination","req","has","query","params","allMatch","every","hasItem","value","key","type","toLowerCase","headers","cookies","host","hostname","split","getSafeParamName","matcher","RegExp","matches","Array","isArray","slice","match","groups","Object","keys","forEach","groupKey","includes","replace","compile","validate","args","assign","__nextLocale","__nextDefaultLocale","__nextDataReq","escapedDestination","destination","param","escapeSegment","parsedDestination","parseUrl","destQuery","destPath","unescapeSegments","pathname","hash","destHostname","destPathParamKeys","destHostnameParamKeys","pathToRegexp","destParams","push","name","destPathCompiler","destHostnameCompiler","strOrArray","entries","map","paramKeys","filter","appendParamsToQuery","some","newUrl","search","err","message","Error","paramName","newParamName","i","length","charCode","charCodeAt","str","segmentName","escapeStringRegexp"],"mappings":"AAAA;;;;QAWgBA,QAAQ,GAARA,QAAQ;QAoERC,cAAc,GAAdA,cAAc;QAmCdC,kBAAkB,GAAlBA,kBAAkB;AA3GI,IAAA,aAAmC,WAAnC,mCAAmC,CAAA;AACtC,IAAA,aAAqB,WAArB,qBAAqB,CAAA;AAC/B,IAAA,SAAa,WAAb,aAAa,CAAA;;;;;;;;;;;;;;;AAE/B,SAASF,QAAQ,CACtBG,GAAsC,EACtCC,GAAe,EACfC,KAAa,EACG;IAChB,MAAMC,MAAM,GAAW,EAAE;IAEzB,MAAMC,QAAQ,GAAGH,GAAG,CAACI,KAAK,CAAC,CAACC,OAAO,GAAK;QACtC,IAAIC,KAAK,AAAoB;QAC7B,IAAIC,GAAG,GAAGF,OAAO,CAACE,GAAG;QAErB,OAAQF,OAAO,CAACG,IAAI;YAClB,KAAK,QAAQ;gBAAE;oBACbD,GAAG,GAAGA,GAAG,CAAEE,WAAW,EAAE;oBACxBH,KAAK,GAAGP,GAAG,CAACW,OAAO,CAACH,GAAG,CAAC,AAAU;oBAClC,MAAK;iBACN;YACD,KAAK,QAAQ;gBAAE;oBACbD,KAAK,GAAG,AAACP,GAAG,CAASY,OAAO,CAACN,OAAO,CAACE,GAAG,CAAC;oBACzC,MAAK;iBACN;YACD,KAAK,OAAO;gBAAE;oBACZD,KAAK,GAAGL,KAAK,CAACM,GAAG,CAAE;oBACnB,MAAK;iBACN;YACD,KAAK,MAAM;gBAAE;oBACX,MAAM,EAAEK,IAAI,CAAA,EAAE,GAAGb,CAAAA,GAAG,QAAS,GAAZA,KAAAA,CAAY,GAAZA,GAAG,CAAEW,OAAO,CAAA,IAAI,EAAE;oBACnC,mCAAmC;oBACnC,MAAMG,QAAQ,GAAGD,IAAI,QAAO,GAAXA,KAAAA,CAAW,GAAXA,IAAI,CAAEE,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAACL,WAAW,EAAE;oBAClDH,KAAK,GAAGO,QAAQ;oBAChB,MAAK;iBACN;YACD;gBAAS;oBACP,MAAK;iBACN;SACF;QAED,IAAI,CAACR,OAAO,CAACC,KAAK,IAAIA,KAAK,EAAE;YAC3BJ,MAAM,CAACa,gBAAgB,CAACR,GAAG,CAAE,CAAC,GAAGD,KAAK;YACtC,OAAO,IAAI,CAAA;SACZ,MAAM,IAAIA,KAAK,EAAE;YAChB,MAAMU,OAAO,GAAG,IAAIC,MAAM,CAAC,CAAC,CAAC,EAAEZ,OAAO,CAACC,KAAK,CAAC,CAAC,CAAC,CAAC;YAChD,MAAMY,OAAO,GAAGC,KAAK,CAACC,OAAO,CAACd,KAAK,CAAC,GAChCA,KAAK,CAACe,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAACC,KAAK,CAACN,OAAO,CAAC,GACjCV,KAAK,CAACgB,KAAK,CAACN,OAAO,CAAC;YAExB,IAAIE,OAAO,EAAE;gBACX,IAAIC,KAAK,CAACC,OAAO,CAACF,OAAO,CAAC,EAAE;oBAC1B,IAAIA,OAAO,CAACK,MAAM,EAAE;wBAClBC,MAAM,CAACC,IAAI,CAACP,OAAO,CAACK,MAAM,CAAC,CAACG,OAAO,CAAC,CAACC,QAAQ,GAAK;4BAChDzB,MAAM,CAACyB,QAAQ,CAAC,GAAGT,OAAO,CAACK,MAAM,AAAC,CAACI,QAAQ,CAAC;yBAC7C,CAAC;qBACH,MAAM,IAAItB,OAAO,CAACG,IAAI,KAAK,MAAM,IAAIU,OAAO,CAAC,CAAC,CAAC,EAAE;wBAChDhB,MAAM,CAACU,IAAI,GAAGM,OAAO,CAAC,CAAC,CAAC;qBACzB;iBACF;gBACD,OAAO,IAAI,CAAA;aACZ;SACF;QACD,OAAO,KAAK,CAAA;KACb,CAAC;IAEF,IAAIf,QAAQ,EAAE;QACZ,OAAOD,MAAM,CAAA;KACd;IACD,OAAO,KAAK,CAAA;CACb;AAEM,SAASL,cAAc,CAACS,KAAa,EAAEJ,MAAc,EAAU;IACpE,IAAI,CAACI,KAAK,CAACsB,QAAQ,CAAC,GAAG,CAAC,EAAE;QACxB,OAAOtB,KAAK,CAAA;KACb;IAED,KAAK,MAAMC,GAAG,IAAIiB,MAAM,CAACC,IAAI,CAACvB,MAAM,CAAC,CAAE;QACrC,IAAII,KAAK,CAACsB,QAAQ,CAAC,CAAC,CAAC,EAAErB,GAAG,CAAC,CAAC,CAAC,EAAE;YAC7BD,KAAK,GAAGA,KAAK,CACVuB,OAAO,CACN,IAAIZ,MAAM,CAAC,CAAC,CAAC,EAAEV,GAAG,CAAC,GAAG,CAAC,EAAE,GAAG,CAAC,EAC7B,CAAC,CAAC,EAAEA,GAAG,CAAC,yBAAyB,CAAC,CACnC,CACAsB,OAAO,CACN,IAAIZ,MAAM,CAAC,CAAC,CAAC,EAAEV,GAAG,CAAC,GAAG,CAAC,EAAE,GAAG,CAAC,EAC7B,CAAC,CAAC,EAAEA,GAAG,CAAC,wBAAwB,CAAC,CAClC,CACAsB,OAAO,CAAC,IAAIZ,MAAM,CAAC,CAAC,CAAC,EAAEV,GAAG,CAAC,GAAG,CAAC,EAAE,GAAG,CAAC,EAAE,CAAC,CAAC,EAAEA,GAAG,CAAC,oBAAoB,CAAC,CAAC,CACrEsB,OAAO,CACN,IAAIZ,MAAM,CAAC,CAAC,CAAC,EAAEV,GAAG,CAAC,OAAO,CAAC,EAAE,GAAG,CAAC,EACjC,CAAC,qBAAqB,EAAEA,GAAG,CAAC,CAAC,CAC9B;SACJ;KACF;IACDD,KAAK,GAAGA,KAAK,CACVuB,OAAO,8BAA8B,MAAM,CAAC,CAC5CA,OAAO,0BAA0B,GAAG,CAAC,CACrCA,OAAO,2BAA2B,GAAG,CAAC,CACtCA,OAAO,8BAA8B,GAAG,CAAC,CACzCA,OAAO,+BAA+B,GAAG,CAAC;IAE7C,+DAA+D;IAC/D,YAAY;IACZ,OAAOC,CAAAA,GAAAA,aAAO,AAAkC,CAAA,QAAlC,CAAC,CAAC,CAAC,EAAExB,KAAK,CAAC,CAAC,EAAE;QAAEyB,QAAQ,EAAE,KAAK;KAAE,CAAC,CAAC7B,MAAM,CAAC,CAACmB,KAAK,CAAC,CAAC,CAAC,CAAA;CAClE;AAEM,SAASvB,kBAAkB,CAACkC,IAKlC,EAAE;IACD,MAAM/B,KAAK,GAAGuB,MAAM,CAACS,MAAM,CAAC,EAAE,EAAED,IAAI,CAAC/B,KAAK,CAAC;IAC3C,OAAOA,KAAK,CAACiC,YAAY;IACzB,OAAOjC,KAAK,CAACkC,mBAAmB;IAChC,OAAOlC,KAAK,CAACmC,aAAa;IAE1B,IAAIC,kBAAkB,GAAGL,IAAI,CAACM,WAAW;IAEzC,KAAK,MAAMC,KAAK,IAAIf,MAAM,CAACC,IAAI,CAAC,aAAKO,IAAI,CAAC9B,MAAM,EAAKD,KAAK,CAAE,CAAC,CAAE;QAC7DoC,kBAAkB,GAAGG,aAAa,CAACH,kBAAkB,EAAEE,KAAK,CAAC;KAC9D;IAED,MAAME,iBAAiB,GAAGC,CAAAA,GAAAA,SAAQ,AAAoB,CAAA,SAApB,CAACL,kBAAkB,CAAC;IACtD,MAAMM,SAAS,GAAGF,iBAAiB,CAACxC,KAAK;IACzC,MAAM2C,QAAQ,GAAGC,gBAAgB,CAC/B,CAAC,EAAEJ,iBAAiB,CAACK,QAAQ,CAAE,EAAEL,iBAAiB,CAACM,IAAI,IAAI,EAAE,CAAC,CAAC,CAChE;IACD,MAAMC,YAAY,GAAGH,gBAAgB,CAACJ,iBAAiB,CAAC5B,QAAQ,IAAI,EAAE,CAAC;IACvE,MAAMoC,iBAAiB,GAAU,EAAE;IACnC,MAAMC,qBAAqB,GAAU,EAAE;IACvCC,CAAAA,GAAAA,aAAY,AAA6B,CAAA,aAA7B,CAACP,QAAQ,EAAEK,iBAAiB,CAAC;IACzCE,CAAAA,GAAAA,aAAY,AAAqC,CAAA,aAArC,CAACH,YAAY,EAAEE,qBAAqB,CAAC;IAEjD,MAAME,UAAU,GAAwB,EAAE;IAE1CH,iBAAiB,CAACvB,OAAO,CAAC,CAACnB,GAAG,GAAK6C,UAAU,CAACC,IAAI,CAAC9C,GAAG,CAAC+C,IAAI,CAAC,CAAC;IAC7DJ,qBAAqB,CAACxB,OAAO,CAAC,CAACnB,GAAG,GAAK6C,UAAU,CAACC,IAAI,CAAC9C,GAAG,CAAC+C,IAAI,CAAC,CAAC;IAEjE,MAAMC,gBAAgB,GAAGzB,CAAAA,GAAAA,aAAO,AAS/B,CAAA,QAT+B,CAC9Bc,QAAQ,EACR,oEAAoE;IACpE,oEAAoE;IACpE,0EAA0E;IAC1E,yEAAyE;IACzE,wEAAwE;IACxE,iDAAiD;IACjD;QAAEb,QAAQ,EAAE,KAAK;KAAE,CACpB;IAED,MAAMyB,oBAAoB,GAAG1B,CAAAA,GAAAA,aAAO,AAAmC,CAAA,QAAnC,CAACkB,YAAY,EAAE;QAAEjB,QAAQ,EAAE,KAAK;KAAE,CAAC;IAEvE,oCAAoC;IACpC,KAAK,MAAM,CAACxB,IAAG,EAAEkD,UAAU,CAAC,IAAIjC,MAAM,CAACkC,OAAO,CAACf,SAAS,CAAC,CAAE;QACzD,+DAA+D;QAC/D,YAAY;QACZ,IAAIxB,KAAK,CAACC,OAAO,CAACqC,UAAU,CAAC,EAAE;YAC7Bd,SAAS,CAACpC,IAAG,CAAC,GAAGkD,UAAU,CAACE,GAAG,CAAC,CAACrD,KAAK,GACpCT,cAAc,CAACgD,gBAAgB,CAACvC,KAAK,CAAC,EAAE0B,IAAI,CAAC9B,MAAM,CAAC,CACrD;SACF,MAAM;YACLyC,SAAS,CAACpC,IAAG,CAAC,GAAGV,cAAc,CAACgD,gBAAgB,CAACY,UAAU,CAAC,EAAEzB,IAAI,CAAC9B,MAAM,CAAC;SAC3E;KACF;IAED,0DAA0D;IAC1D,+CAA+C;IAC/C,IAAI0D,SAAS,GAAGpC,MAAM,CAACC,IAAI,CAACO,IAAI,CAAC9B,MAAM,CAAC,CAAC2D,MAAM,CAC7C,CAACP,IAAI,GAAKA,IAAI,KAAK,oBAAoB,CACxC;IAED,IACEtB,IAAI,CAAC8B,mBAAmB,IACxB,CAACF,SAAS,CAACG,IAAI,CAAC,CAACxD,GAAG,GAAK6C,UAAU,CAACxB,QAAQ,CAACrB,GAAG,CAAC,CAAC,EAClD;QACA,KAAK,MAAMA,GAAG,IAAIqD,SAAS,CAAE;YAC3B,IAAI,CAAC,CAACrD,GAAG,IAAIoC,SAAS,CAAC,EAAE;gBACvBA,SAAS,CAACpC,GAAG,CAAC,GAAGyB,IAAI,CAAC9B,MAAM,CAACK,GAAG,CAAC;aAClC;SACF;KACF;IAED,IAAIyD,MAAM;IAEV,IAAI;QACFA,MAAM,GAAGT,gBAAgB,CAACvB,IAAI,CAAC9B,MAAM,CAAC;QAEtC,MAAM,CAAC4C,QAAQ,EAAEC,IAAI,CAAC,GAAGiB,MAAM,CAAClD,KAAK,CAAC,GAAG,CAAC;QAC1C2B,iBAAiB,CAAC5B,QAAQ,GAAG2C,oBAAoB,CAACxB,IAAI,CAAC9B,MAAM,CAAC;QAC9DuC,iBAAiB,CAACK,QAAQ,GAAGA,QAAQ;QACrCL,iBAAiB,CAACM,IAAI,GAAG,CAAC,EAAEA,IAAI,GAAG,GAAG,GAAG,EAAE,CAAC,EAAEA,IAAI,IAAI,EAAE,CAAC,CAAC;QAC1D,OAAO,AAACN,iBAAiB,CAASwB,MAAM;KACzC,CAAC,OAAOC,GAAG,EAAO;QACjB,IAAIA,GAAG,CAACC,OAAO,CAAC7C,KAAK,gDAAgD,EAAE;YACrE,MAAM,IAAI8C,KAAK,CACb,CAAC,yKAAyK,CAAC,CAC5K,CAAA;SACF;QACD,MAAMF,GAAG,CAAA;KACV;IAED,+CAA+C;IAC/C,8BAA8B;IAC9B,yBAAyB;IACzB,wCAAwC;IACxCzB,iBAAiB,CAACxC,KAAK,GAAG,aACrBA,KAAK,EACLwC,iBAAiB,CAACxC,KAAK,CAC3B;IAED,OAAO;QACL+D,MAAM;QACNrB,SAAS;QACTF,iBAAiB;KAClB,CAAA;CACF;AAED;;;GAGG,CACH,SAAS1B,gBAAgB,CAACsD,SAAiB,EAAE;IAC3C,IAAIC,YAAY,GAAG,EAAE;IAErB,IAAK,IAAIC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGF,SAAS,CAACG,MAAM,EAAED,CAAC,EAAE,CAAE;QACzC,MAAME,QAAQ,GAAGJ,SAAS,CAACK,UAAU,CAACH,CAAC,CAAC;QAExC,IACE,AAACE,QAAQ,GAAG,EAAE,IAAIA,QAAQ,GAAG,EAAE,IAC9BA,QAAQ,GAAG,EAAE,IAAIA,QAAQ,GAAG,GAAG,CAAE,MAAM;QAAP,EACjC;YACAH,YAAY,IAAID,SAAS,CAACE,CAAC,CAAC;SAC7B;KACF;IACD,OAAOD,YAAY,CAAA;CACpB;AAED,SAAS9B,aAAa,CAACmC,GAAW,EAAEC,WAAmB,EAAE;IACvD,OAAOD,GAAG,CAAC9C,OAAO,CAChB,IAAIZ,MAAM,CAAC,CAAC,CAAC,EAAE4D,CAAAA,GAAAA,aAAkB,AAAa,CAAA,mBAAb,CAACD,WAAW,CAAC,CAAC,CAAC,EAAE,GAAG,CAAC,EACtD,CAAC,YAAY,EAAEA,WAAW,CAAC,CAAC,CAC7B,CAAA;CACF;AAED,SAAS/B,gBAAgB,CAAC8B,GAAW,EAAE;IACrC,OAAOA,GAAG,CAAC9C,OAAO,mBAAmB,GAAG,CAAC,CAAA;CAC1C"}