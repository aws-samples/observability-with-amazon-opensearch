{"version":3,"file":"utils.js","sourceRoot":"","sources":["../../../src/pagination/utils.ts"],"names":[],"mappings":"AAAA,qEAAqE;AACrE,sCAAsC;AAEtC,yBAAyB;AACzB,MAAM,UAAU,KAAK,CAAC,IAAY,EAAE,EAAU;IAC5C,IAAM,MAAM,GAAG,EAAE,CAAC;IAClB,KAAK,IAAI,CAAC,GAAG,IAAI,EAAE,CAAC,IAAI,EAAE,EAAE,CAAC,EAAE,EAAE;QAC/B,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;KAChB;IACD,OAAO,MAAM,CAAC;AAChB,CAAC;AAED,MAAM,UAAU,kBAAkB,CAAC,gBAAwB,EAAE,eAAuB,EAAE,SAAmB;IACvG,wCAAwC;IACxC,IAAM,gBAAgB,GAAG,CAAC,CAAC;IAC3B,oGAAoG;IACpG,6BAA6B;IAC7B,IAAM,SAAS,GAAG,IAAI,CAAC,KAAK,CAAC,gBAAgB,GAAG,CAAC,CAAC,CAAC;IACnD,IAAI,UAAU,GAAG,SAAS,CAAC;IAC3B,yCAAyC;IACzC,IAAM,UAAU,GAAG,CAAC,CAAC;IACrB,IAAI,UAAU,GAAG,eAAe,GAAG,CAAC,CAAC;IAErC,IAAI,SAAS,EAAE;QACb,UAAU,EAAE,CAAC;QACb,UAAU,GAAG,eAAe,GAAG,CAAC,CAAC;KAClC;IAED,oDAAoD;IACpD,IAAI,SAAS,GAAG,gBAAgB,GAAG,SAAS,CAAC;IAC7C,IAAI,UAAU,GAAG,gBAAgB,GAAG,UAAU,CAAC;IAE/C,iDAAiD;IACjD,IAAI,SAAS,GAAG,UAAU,EAAE;QAC1B,UAAU,IAAI,UAAU,GAAG,SAAS,CAAC;QACrC,SAAS,GAAG,UAAU,CAAC;KACxB;IAED,8CAA8C;IAC9C,IAAI,UAAU,GAAG,UAAU,EAAE;QAC3B,SAAS,IAAI,UAAU,GAAG,UAAU,CAAC;QACrC,UAAU,GAAG,UAAU,CAAC;KACzB;IAED,4DAA4D;IAC5D,SAAS,GAAG,IAAI,CAAC,GAAG,CAAC,SAAS,EAAE,CAAC,CAAC,CAAC;IACnC,UAAU,GAAG,IAAI,CAAC,GAAG,CAAC,UAAU,EAAE,UAAU,CAAC,CAAC;IAE9C,uBAAuB;IACvB,IAAM,QAAQ,GAAG,SAAS,GAAG,CAAC,CAAC;IAC/B,IAAM,SAAS,GAAG,SAAS,IAAI,UAAU,GAAG,UAAU,CAAC;IAEvD,IAAI,QAAQ,EAAE;QACZ,SAAS,EAAE,CAAC;KACb;IAED,IAAI,SAAS,EAAE;QACb,UAAU,EAAE,CAAC;KACd;IAED,OAAO,EAAE,QAAQ,UAAA,EAAE,SAAS,WAAA,EAAE,SAAS,WAAA,EAAE,UAAU,YAAA,EAAE,CAAC;AACxD,CAAC","sourcesContent":["// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\n\n// TODO [mjawors] _.range\nexport function range(from: number, to: number) {\n  const result = [];\n  for (let i = from; i <= to; i++) {\n    result.push(i);\n  }\n  return result;\n}\n\nexport function getPaginationState(currentPageIndex: number, totalPagesCount: number, isOpenEnd?: boolean) {\n  // Total number of elements handled here\n  const numberOfControls = 7;\n  // Max number of controls that can be displayed on the left and right hand side of the current page.\n  // Works only for odd numbers\n  const leftDelta = Math.floor(numberOfControls / 2);\n  let rightDelta = leftDelta;\n  // upper and lower limits for pages range\n  const lowerLimit = 2;\n  let upperLimit = totalPagesCount - 1;\n\n  if (isOpenEnd) {\n    rightDelta++;\n    upperLimit = totalPagesCount + 1;\n  }\n\n  // Left and right indices based on delta calculation\n  let leftIndex = currentPageIndex - leftDelta;\n  let rightIndex = currentPageIndex + rightDelta;\n\n  // adjust page indexes if page index is too small\n  if (leftIndex < lowerLimit) {\n    rightIndex += lowerLimit - leftIndex;\n    leftIndex = lowerLimit;\n  }\n\n  // adjust page indexes if page index is to big\n  if (rightIndex > upperLimit) {\n    leftIndex -= rightIndex - upperLimit;\n    rightIndex = upperLimit;\n  }\n\n  // adjust indexes one more time to avoid out of range errors\n  leftIndex = Math.max(leftIndex, 2);\n  rightIndex = Math.min(rightIndex, upperLimit);\n\n  // consider adding dots\n  const leftDots = leftIndex > 2;\n  const rightDots = isOpenEnd || rightIndex < upperLimit;\n\n  if (leftDots) {\n    leftIndex++;\n  }\n\n  if (rightDots) {\n    rightIndex--;\n  }\n\n  return { leftDots, rightDots, leftIndex, rightIndex };\n}\n"]}