{"version":3,"file":"internal.js","sourceRoot":"","sources":["../../../src/pagination/internal.tsx"],"names":[],"mappings":"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","sourcesContent":["// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport clsx from 'clsx';\nimport React from 'react';\nimport InternalIcon from '../icon/internal';\nimport { fireNonCancelableEvent } from '../internal/events';\nimport { getBaseProps } from '../internal/base-component';\nimport useFocusVisible from '../internal/hooks/focus-visible';\nimport styles from './styles.css.js';\nimport { getPaginationState, range } from './utils';\nimport { InternalBaseComponentProps } from '../internal/hooks/use-base-component';\nimport { PaginationProps } from './interfaces';\n\nconst defaultAriaLabels: Required<PaginationProps.Labels> = {\n  nextPageLabel: '',\n  previousPageLabel: '',\n  pageLabel: pageNumber => `${pageNumber}`,\n};\n\ninterface PageButtonProps {\n  className?: string;\n  ariaLabel: string;\n  disabled?: boolean;\n  pageIndex: number;\n  isCurrent?: boolean;\n  children?: React.ReactNode;\n  onClick: (requestedIndex: number) => void;\n}\n\nfunction PageButton({\n  className,\n  ariaLabel,\n  disabled,\n  pageIndex,\n  isCurrent = false,\n  children,\n  onClick,\n}: PageButtonProps) {\n  const focusVisible = useFocusVisible();\n  function handleClick(event: React.MouseEvent) {\n    event.preventDefault();\n    onClick(pageIndex);\n  }\n  return (\n    <li className={styles['page-item']}>\n      <button\n        {...focusVisible}\n        className={clsx(\n          className,\n          styles.button,\n          disabled && styles['button-disabled'],\n          isCurrent && styles['button-current']\n        )}\n        type=\"button\"\n        aria-label={ariaLabel}\n        tabIndex={disabled ? -1 : 0}\n        disabled={disabled}\n        onClick={handleClick}\n        aria-current={isCurrent}\n      >\n        {children}\n      </button>\n    </li>\n  );\n}\n\nfunction PageNumber({ pageIndex, ...rest }: PageButtonProps) {\n  return (\n    <PageButton className={styles['page-number']} pageIndex={pageIndex} {...rest}>\n      {pageIndex}\n    </PageButton>\n  );\n}\n\ntype InternalPaginationProps = PaginationProps & InternalBaseComponentProps;\n\nexport default function InternalPagination({\n  openEnd,\n  currentPageIndex,\n  ariaLabels,\n  pagesCount,\n  disabled,\n  onChange,\n  onNextPageClick,\n  onPreviousPageClick,\n  __internalRootRef = null,\n  ...rest\n}: InternalPaginationProps) {\n  const baseProps = getBaseProps(rest);\n  const pageNumberLabelFn = ariaLabels?.pageLabel ?? defaultAriaLabels.pageLabel;\n  const { leftDots, leftIndex, rightIndex, rightDots } = getPaginationState(currentPageIndex, pagesCount, openEnd);\n\n  function handlePrevPageClick(requestedPageIndex: number) {\n    handlePageClick(requestedPageIndex);\n    fireNonCancelableEvent(onPreviousPageClick, {\n      requestedPageAvailable: true,\n      requestedPageIndex: requestedPageIndex,\n    });\n  }\n\n  function handleNextPageClick(requestedPageIndex: number) {\n    handlePageClick(requestedPageIndex);\n    fireNonCancelableEvent(onNextPageClick, {\n      requestedPageAvailable: currentPageIndex < pagesCount,\n      requestedPageIndex: requestedPageIndex,\n    });\n  }\n\n  function handlePageClick(requestedPageIndex: number) {\n    fireNonCancelableEvent(onChange, { currentPageIndex: requestedPageIndex });\n  }\n\n  return (\n    <ul\n      {...baseProps}\n      className={clsx(baseProps.className, styles.root, disabled && styles['root-disabled'])}\n      ref={__internalRootRef}\n    >\n      <PageButton\n        className={styles.arrow}\n        pageIndex={currentPageIndex - 1}\n        ariaLabel={ariaLabels?.previousPageLabel ?? defaultAriaLabels.nextPageLabel}\n        disabled={disabled || currentPageIndex === 1}\n        onClick={handlePrevPageClick}\n      >\n        <InternalIcon name=\"angle-left\" variant={disabled ? 'disabled' : 'normal'} />\n      </PageButton>\n      <PageNumber\n        pageIndex={1}\n        isCurrent={currentPageIndex === 1}\n        disabled={disabled}\n        ariaLabel={pageNumberLabelFn(1)}\n        onClick={handlePageClick}\n      />\n      {leftDots && <li className={styles.dots}>...</li>}\n      {range(leftIndex, rightIndex).map(pageIndex => (\n        <PageNumber\n          key={pageIndex}\n          isCurrent={currentPageIndex === pageIndex}\n          pageIndex={pageIndex}\n          disabled={disabled}\n          ariaLabel={pageNumberLabelFn(pageIndex)}\n          onClick={handlePageClick}\n        />\n      ))}\n      {rightDots && <li className={styles.dots}>...</li>}\n      {!openEnd && pagesCount > 1 && (\n        <PageNumber\n          isCurrent={currentPageIndex === pagesCount}\n          pageIndex={pagesCount}\n          disabled={disabled}\n          ariaLabel={pageNumberLabelFn(pagesCount)}\n          onClick={handlePageClick}\n        />\n      )}\n      <PageButton\n        className={styles.arrow}\n        pageIndex={currentPageIndex + 1}\n        ariaLabel={ariaLabels?.nextPageLabel ?? defaultAriaLabels.nextPageLabel}\n        disabled={disabled || (!openEnd && (pagesCount === 0 || currentPageIndex === pagesCount))}\n        onClick={handleNextPageClick}\n      >\n        <InternalIcon name=\"angle-right\" variant={disabled ? 'disabled' : 'normal'} />\n      </PageButton>\n    </ul>\n  );\n}\n"]}