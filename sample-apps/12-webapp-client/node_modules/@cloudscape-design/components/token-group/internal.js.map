{"version":3,"file":"internal.js","sourceRoot":"","sources":["../../../src/token-group/internal.tsx"],"names":[],"mappings":"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","sourcesContent":["// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { useState } from 'react';\nimport clsx from 'clsx';\n\nimport Option from '../internal/components/option';\nimport { fireNonCancelableEvent } from '../internal/events';\nimport checkControlled from '../internal/hooks/check-controlled';\nimport { InternalBaseComponentProps } from '../internal/hooks/use-base-component';\nimport { useUniqueId } from '../internal/hooks/use-unique-id';\nimport { getBaseProps } from '../internal/base-component';\n\nimport SpaceBetween from '../space-between/internal';\n\nimport { TokenGroupProps } from './interfaces';\nimport DismissButton from './dismiss-button';\nimport SelectToggle from './toggle';\n\nimport styles from './styles.css.js';\nimport { SomeRequired } from '../internal/types';\n\ntype InternalTokenGroupProps = SomeRequired<TokenGroupProps, 'items' | 'alignment'> & InternalBaseComponentProps;\n\nexport default function InternalTokenGroup({\n  items,\n  alignment,\n  onDismiss,\n  __internalRootRef,\n  limit,\n  ...props\n}: InternalTokenGroupProps) {\n  checkControlled('TokenGroup', 'items', items, 'onDismiss', onDismiss);\n\n  const [expanded, setExpanded] = useState(false);\n  const controlId = useUniqueId();\n\n  const hasItems = items.length > 0;\n  const hasHiddenItems = hasItems && limit !== undefined && items.length > limit;\n  const slicedItems = hasHiddenItems && !expanded ? items.slice(0, limit) : items;\n\n  const baseProps = getBaseProps(props);\n  const className = clsx(baseProps.className, styles.root, hasItems && styles['has-items']);\n\n  return (\n    <div {...baseProps} className={className} ref={__internalRootRef}>\n      {hasItems && (\n        <SpaceBetween id={controlId} direction={alignment} size=\"xs\">\n          {slicedItems.map((item: TokenGroupProps.Item, itemIndex) => (\n            <Token key={itemIndex} {...item} onDismiss={() => fireNonCancelableEvent(onDismiss, { itemIndex })} />\n          ))}\n        </SpaceBetween>\n      )}\n      {hasHiddenItems && (\n        <SelectToggle\n          controlId={controlId}\n          allHidden={limit === 0}\n          expanded={expanded}\n          numberOfHiddenOptions={items.length - slicedItems.length}\n          i18nStrings={props.i18nStrings}\n          onClick={() => setExpanded(!expanded)}\n        />\n      )}\n    </div>\n  );\n}\n\ninterface TokenProps extends TokenGroupProps.Item {\n  onDismiss?: () => void;\n}\n\nexport function Token({ disabled, dismissLabel, onDismiss, ...props }: TokenProps) {\n  return (\n    <div\n      className={clsx(styles.token, disabled && styles['token-disabled'])}\n      aria-disabled={disabled ? 'true' : undefined}\n    >\n      <Option\n        option={{\n          ...props,\n          disabled,\n        }}\n      />\n      <DismissButton disabled={disabled} dismissLabel={dismissLabel} onDismiss={onDismiss} />\n    </div>\n  );\n}\n"]}