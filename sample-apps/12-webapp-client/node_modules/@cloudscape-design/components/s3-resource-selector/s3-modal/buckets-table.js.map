{"version":3,"file":"buckets-table.js","sourceRoot":"","sources":["../../../../src/s3-resource-selector/s3-modal/buckets-table.tsx"],"names":[],"mappings":"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","sourcesContent":["// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React from 'react';\nimport InternalLink from '../../link/internal';\nimport { TableProps } from '../../table/interfaces';\nimport { ForwardFocusRef } from '../../internal/hooks/forward-focus';\nimport { S3ResourceSelectorProps } from '../interfaces';\nimport { compareDates, getColumnAriaLabel, includes } from './table-utils';\nimport { formatDefault } from './column-formats';\nimport { BasicS3Table, getSharedI18Strings } from './basic-table';\n\ninterface BucketsTableProps {\n  forwardFocusRef: React.Ref<ForwardFocusRef>;\n  visibleColumns: ReadonlyArray<string>;\n  isItemDisabled: TableProps.IsItemDisabled<S3ResourceSelectorProps.Bucket> | undefined;\n  selectableItemsTypes: S3ResourceSelectorProps['selectableItemsTypes'];\n  fetchData: S3ResourceSelectorProps['fetchBuckets'];\n  i18nStrings: S3ResourceSelectorProps.I18nStrings | undefined;\n  isVisualRefresh?: boolean;\n  onDrilldown: (path: string) => void;\n  onSelect: (uri: string) => void;\n}\n\nexport function BucketsTable({\n  forwardFocusRef,\n  i18nStrings,\n  isVisualRefresh,\n  isItemDisabled,\n  selectableItemsTypes,\n  fetchData,\n  visibleColumns,\n  onDrilldown,\n  onSelect,\n}: BucketsTableProps) {\n  return (\n    <BasicS3Table<S3ResourceSelectorProps.Bucket>\n      forwardFocusRef={forwardFocusRef}\n      trackBy=\"Name\"\n      fetchData={fetchData}\n      visibleColumns={visibleColumns}\n      isItemDisabled={isItemDisabled || (() => !includes(selectableItemsTypes, 'buckets'))}\n      i18nStrings={{\n        ...getSharedI18Strings(i18nStrings),\n        header: i18nStrings?.selectionBuckets,\n        loadingText: i18nStrings?.selectionBucketsLoading,\n        filteringAriaLabel: i18nStrings?.labelFiltering(i18nStrings?.selectionBuckets),\n        filteringPlaceholder: i18nStrings?.selectionBucketsSearchPlaceholder,\n        emptyText: i18nStrings?.selectionBucketsNoItems,\n        selectionLabels: i18nStrings?.labelsBucketsSelection,\n      }}\n      isVisualRefresh={isVisualRefresh}\n      columnDefinitions={[\n        {\n          id: 'Name',\n          header: i18nStrings?.columnBucketName,\n          ariaLabel: getColumnAriaLabel(i18nStrings, i18nStrings?.columnBucketName),\n          sortingField: 'Name',\n          cell: item => {\n            const isClickable = includes(selectableItemsTypes, 'objects') || includes(selectableItemsTypes, 'versions');\n            return isClickable ? (\n              <InternalLink onFollow={() => item.Name && onDrilldown(item.Name)} variant=\"link\">\n                {item.Name}\n              </InternalLink>\n            ) : (\n              item.Name\n            );\n          },\n          minWidth: '250px',\n        },\n        {\n          id: 'CreationDate',\n          header: i18nStrings?.columnBucketCreationDate,\n          ariaLabel: getColumnAriaLabel(i18nStrings, i18nStrings?.columnBucketCreationDate),\n          sortingComparator: (a, b) => compareDates(a.CreationDate, b.CreationDate),\n          cell: item => formatDefault(item.CreationDate),\n        },\n        {\n          id: 'Region',\n          header: i18nStrings?.columnBucketRegion,\n          ariaLabel: getColumnAriaLabel(i18nStrings, i18nStrings?.columnBucketRegion),\n          sortingField: 'Region',\n          cell: item => formatDefault(item.Region),\n          minWidth: '150px',\n        },\n      ]}\n      onSelect={item => onSelect(item?.Name ?? '')}\n    />\n  );\n}\n"]}