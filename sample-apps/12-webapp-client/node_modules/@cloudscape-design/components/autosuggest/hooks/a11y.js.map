{"version":3,"file":"a11y.js","sourceRoot":"","sources":["../../../../src/autosuggest/hooks/a11y.ts"],"names":[],"mappings":"AAAA,qEAAqE;AACrE,sCAAsC;AAEtC,OAAO,EAAE,gBAAgB,EAAE,MAAM,oCAAoC,CAAC;AAMtE,MAAM,CAAC,IAAM,oBAAoB,GAAG,UAClC,MAAc,EACd,QAAiB,EACjB,cAAuB,EACvB,iBAAmC;IAEnC,IAAM,SAAS,GAA2B,EAAE,CAAC;IAC7C,IAAM,UAAU,GAAqB;QACnC,IAAI,EAAE,UAAU;QAChB,mBAAmB,EAAE,MAAM;QAC3B,eAAe,EAAE,QAAQ;QACzB,eAAe,EAAE,MAAM;QACvB,wEAAwE;QACxE,WAAW,EAAE,MAAM;KACpB,CAAC;IAEF,IAAI,cAAc,EAAE;QAClB,UAAU,CAAC,YAAY,CAAC,GAAG,cAAc,CAAC;KAC3C;IAED,IAAI,iBAAiB,EAAE;QACrB,IAAM,EAAE,GAAG,gBAAgB,EAAE,CAAC;QAC9B,SAAS,CAAC,EAAE,GAAG,EAAE,CAAC;QAClB,UAAU,CAAC,uBAAuB,CAAC,GAAG,EAAE,CAAC;KAC1C;IAED,OAAO,CAAC,UAAU,EAAE,SAAS,CAAC,CAAC;AACjC,CAAC,CAAC","sourcesContent":["// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\n\nimport { generateUniqueId } from '../../internal/hooks/use-unique-id';\n\nimport { AutosuggestItem } from '../interfaces';\n\ntype NativeAttributes = Record<string, any>;\n\nexport const useDropdownA11yProps = (\n  listId: string,\n  expanded: boolean,\n  inputAriaLabel?: string,\n  highlightedOption?: AutosuggestItem\n): [NativeAttributes, NativeAttributes] => {\n  const itemProps: Record<string, string> = {};\n  const inputProps: NativeAttributes = {\n    role: 'combobox',\n    'aria-autocomplete': 'list',\n    'aria-expanded': expanded,\n    'aria-controls': listId,\n    // 'aria-owns' needed for safari+vo to announce activedescendant content\n    'aria-owns': listId,\n  };\n\n  if (inputAriaLabel) {\n    inputProps['aria-label'] = inputAriaLabel;\n  }\n\n  if (highlightedOption) {\n    const id = generateUniqueId();\n    itemProps.id = id;\n    inputProps['aria-activedescendant'] = id;\n  }\n\n  return [inputProps, itemProps];\n};\n"]}